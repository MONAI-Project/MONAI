---
device: "$torch.device('cuda' if torch.cuda.is_available() else 'cpu')"
network_def:
  _name_: UNet
  spatial_dims: 3
  in_channels: 1
  out_channels: 2
  channels:
  - 16
  - 32
  - 64
  - 128
  - 256
  strides:
  - 2
  - 2
  - 2
  - 2
  num_res_units: 2
  norm: batch
network: need override
preprocessing:
  _name_: Compose
  transforms:
  - _name_: LoadImaged
    keys: image
  - _name_: EnsureChannelFirstd
    keys: image
  - _name_: ScaleIntensityd
    keys: image
  - _name_: EnsureTyped
    keys: image
dataset:
  _name_: need override
  data: "@_meta_#datalist"
  transform: "@preprocessing"
dataloader:
  _name_: DataLoader
  dataset: "@dataset"
  batch_size: 1
  shuffle: false
  num_workers: 4
inferer:
  _name_: SlidingWindowInferer
  roi_size:
  - 96
  - 96
  - 96
  sw_batch_size: 4
  overlap: 0.5
postprocessing:
  _name_: Compose
  transforms:
  - _name_: Activationsd
    keys: pred
    softmax: true
  - _name_: AsDiscreted
    keys: pred
    argmax: true
  - _name_: SaveImaged
    keys: pred
    meta_keys: image_meta_dict
    output_dir: "@_meta_#output_dir"
evaluator:
  _name_: SupervisedEvaluator
  device: "@device"
  val_data_loader: "@dataloader"
  network: "@network"
  inferer: "@inferer"
  postprocessing: "@postprocessing"
  amp: false
